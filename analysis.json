{
  "entities": [
    "customers",
    "events",
    "orders",
    "products"
  ],
  "relationships": [
    {
      "source_entity": "orders",
      "source_field": "customer_id",
      "target_entity": "customers",
      "target_field": "customer_id",
      "relationship_type": "N:1",
      "confidence": 0.95,
      "reasoning": "orders.customer_id references customers.customer_id"
    },
    {
      "source_entity": "events",
      "source_field": "customer_id",
      "target_entity": "customers",
      "target_field": "customer_id",
      "relationship_type": "N:1",
      "confidence": 0.9,
      "reasoning": "events.customer_id references customers.customer_id"
    },
    {
      "source_entity": "orders",
      "source_field": "order_id",
      "target_entity": "events",
      "target_field": "order_id",
      "relationship_type": "1:1",
      "confidence": 0.85,
      "reasoning": "Each order may correspond to multiple events, such as order_created, shipment etc. However, with no direct field, it might reference through order related events."
    },
    {
      "source_entity": "orders",
      "source_field": "items.product_id",
      "target_entity": "products",
      "target_field": "product_id",
      "relationship_type": "N:M",
      "confidence": 0.95,
      "reasoning": "orders.items.product_id references products.product_id for all items in an order"
    }
  ],
  "xdm_class_recommendations": [
    {
      "entity_name": "customers",
      "recommended_class": "XDM Individual Profile",
      "recommended_class_id": "https://ns.adobe.com/xdm/context/profile",
      "confidence": 0.98,
      "reasoning": "Contains person-level attributes and demographics",
      "alternative_classes": []
    },
    {
      "entity_name": "events",
      "recommended_class": "XDM ExperienceEvent",
      "recommended_class_id": "https://ns.adobe.com/xdm/context/experienceevent",
      "confidence": 0.95,
      "reasoning": "Captures event-based, time-series data related to customer interactions",
      "alternative_classes": []
    },
    {
      "entity_name": "orders",
      "recommended_class": "XDM Commerce Details",
      "recommended_class_id": "https://ns.adobe.com/xdm/context/commerce",
      "confidence": 0.96,
      "reasoning": "Represents commerce transactions and associated details",
      "alternative_classes": []
    },
    {
      "entity_name": "products",
      "recommended_class": "Custom XDM Product Class",
      "recommended_class_id": "https://ns.custom.com/xdm/context/product",
      "confidence": 0.9,
      "reasoning": "Contains detailed product specifications and categories",
      "alternative_classes": []
    }
  ],
  "identity_strategies": [
    {
      "entity_name": "customers",
      "primary_identity_field": "customer_id",
      "identity_namespace": "CRM_ID",
      "additional_identity_fields": [
        "email"
      ],
      "reasoning": "customer_id is unique identifier, email for cross-channel identity"
    },
    {
      "entity_name": "events",
      "primary_identity_field": "session_id",
      "identity_namespace": "SESSION_ID",
      "additional_identity_fields": [
        "customer_id"
      ],
      "reasoning": "session_id identifies unique sessions, customer_id links to customer profile"
    }
  ],
  "field_group_suggestions": {
    "customers": [
      "Demographic Details",
      "Personal Contact Details",
      "Loyalty Details"
    ],
    "orders": [
      "Commerce Details",
      "Order Details"
    ],
    "events": [
      "Event Information",
      "Device Details"
    ],
    "products": [
      "Product Specifications",
      "Pricing Details"
    ]
  },
  "implementation_strategy": "Denormalized approach recommended: embed critical customer fields in events to avoid joins. Use Profile for customer master data, ExperienceEvent for orders/events.",
  "ai_reasoning": "Overall analysis of the dataset structure, recommended approach, and key considerations for AEP implementation."
}